0 info it worked if it ends with ok
1 verbose cli [ '/usr/bin/node', '/usr/bin/npm', 'publish' ]
2 info using npm@3.5.2
3 info using node@v8.10.0
4 verbose publish [ '.' ]
5 silly cache add args [ '.', null ]
6 verbose cache add spec .
7 silly cache add parsed spec Result {
7 silly cache add   raw: '.',
7 silly cache add   scope: null,
7 silly cache add   name: null,
7 silly cache add   rawSpec: '.',
7 silly cache add   spec: '/mnt/f/www/@alexotano/cfdiv33',
7 silly cache add   type: 'directory' }
8 verbose addLocalDirectory /home/alexotano/.npm/@alexotano/cfdi33/2.2.5/package.tgz not in flight; packing
9 info lifecycle @alexotano/cfdi33@2.2.5~prepublish: @alexotano/cfdi33@2.2.5
10 silly lifecycle @alexotano/cfdi33@2.2.5~prepublish: no script for prepublish, continuing
11 verbose tar pack [ '/home/alexotano/.npm/@alexotano/cfdi33/2.2.5/package.tgz',
11 verbose tar pack   '/mnt/f/www/@alexotano/cfdiv33' ]
12 verbose tarball /home/alexotano/.npm/@alexotano/cfdi33/2.2.5/package.tgz
13 verbose folder /mnt/f/www/@alexotano/cfdiv33
14 verbose addLocalTarball adding from inside cache /home/alexotano/.npm/@alexotano/cfdi33/2.2.5/package.tgz
15 silly cache afterAdd @alexotano/cfdi33@2.2.5
16 verbose afterAdd /home/alexotano/.npm/@alexotano/cfdi33/2.2.5/package/package.json not in flight; writing
17 verbose afterAdd /home/alexotano/.npm/@alexotano/cfdi33/2.2.5/package/package.json written
18 silly publish { author: { name: 'Alex Otano' },
18 silly publish   bugs: { url: 'https://github.com/ALEXOTANO/cfdi33/issues' },
18 silly publish   bundleDependencies: false,
18 silly publish   dependencies: { crypto: '^1.0.1', jxon: '^2.0.0-beta.5', xsltproc: '^0.0.3' },
18 silly publish   deprecated: false,
18 silly publish   description: 'Libreria para generación de XML, para facturación electrónica 3.3 en México',
18 silly publish   devDependencies: { chai: '^4.1.2', mocha: '^4.0.1' },
18 silly publish   directories: { lib: 'lib', test: 'test' },
18 silly publish   homepage: 'https://github.com/ALEXOTANO/cfdi33#readme',
18 silly publish   license: 'MIT',
18 silly publish   main: 'index.js',
18 silly publish   name: '@alexotano/cfdi33',
18 silly publish   optionalDependencies: {},
18 silly publish   repository:
18 silly publish    { type: 'git',
18 silly publish      url: 'git+https://github.com/ALEXOTANO/cfdi33.git' },
18 silly publish   scripts: { test: 'mocha' },
18 silly publish   version: '2.2.5',
18 silly publish   keywords:
18 silly publish    [ 'cfdi',
18 silly publish      'version',
18 silly publish      '3.3',
18 silly publish      'XML',
18 silly publish      'facturacion',
18 silly publish      'electronica',
18 silly publish      'mexico' ],
18 silly publish   readme: '## CFDi33 para NodeJS\r\n\r\nFork de @blacktrue para la generacion de cfdi 3.3, ¡un excelente trabajo! \r\n\r\nEn mi version se hicieron correcciones de un par de errores de rutas dinamicas y agregado de complemento de pago 2018. \r\n\r\n## Instalación \r\n\r\n```\r\nnpm i @alexotano/cfdi33\r\n```\r\n\r\n## Ejemplo de uso Factura\r\n\r\n```javascript\r\n\'use strict\'\r\n\r\nconst CFDI = require(\'@alexotano/cfdi33\').CFDI\r\nconst Emisor = require(\'@alexotano/cfdi33\').Emisor\r\nconst Receptor = require(\'@alexotano/cfdi33\').Receptor\r\nconst Concepto = require(\'@alexotano/cfdi33\').Concepto\r\nconst CuentaPredial = require(\'@alexotano/cfdi33\').CuentaPredial\r\nconst InformacionAduanera = require(\'@alexotano/cfdi33\').InformacionAduanera\r\nconst CfdiRelacionado = require(\'@alexotano/cfdi33\').CfdiRelacionado\r\nconst Traslado = require(\'@alexotano/cfdi33\').Traslado\r\nconst Retencion = require(\'@alexotano/cfdi33\').Retencion\r\n\r\nconst cfdi = new CFDI({\r\n  //\'Serie\': \'A\',\r\n  //\'Folio\': \'167ABC\',\r\n  \'Fecha\': \'2018-06-11T08:09:23\',\r\n  \'NoCertificado\': \'20001000000300022815\',\r\n  \'SubTotal\': \'1000\',\r\n  \'Moneda\': \'MXN\',\r\n  \'Total\': \'1160\',\r\n  \'TipoDeComprobante\': \'I\',\r\n  \'FormaPago\': \'01\',\r\n  \'MetodoPago\': \'PUE\',\r\n  //\'CondicionesDePago\': \'CONDICIONES\',\r\n  \'TipoCambio\': \'1\',\r\n  \'LugarExpedicion\': \'45079\',\r\n});\r\n\r\ncfdi.cer = \'./test/resources/XXXXXXXXXXXX.cer.pem\'\r\ncfdi.key = \'./test/resources/XXXXXXXXXXXX.key.pem\'\r\ncfdi.withOutCerts = false\r\n\r\n/*\r\ncfdi.add(new CfdiRelacionado({\r\n  \'UUID\': \'A39DA66B-52CA-49E3-879B-5C05185B0EF7\'\r\n}, {\r\n  \'TipoRelacion\': \'01\'\r\n}))\r\n*/\r\n\r\ncfdi.add(new Emisor({\r\n  \'Rfc\': \'XXXXXXXX\',\r\n  \'Nombre\': \'NOMBRE APELLIDO\',\r\n  \'RegimenFiscal\': \'601\'\r\n}))\r\n\r\ncfdi.add(new Receptor({\r\n  \'Rfc\': \'ZZZZZZZZZZZ\',\r\n  //\'Nombre\': \'NOMBRE APELLIDO\',\r\n  //\'ResidenciaFiscal\': \'MEX\',\r\n  //\'NumRegIdTrib\': \'0000000000000\',\r\n  \'UsoCFDI\': \'G01\'\r\n}))\r\n\r\nconst concepto = new Concepto({\r\n  \'ClaveProdServ\': \'01010101\',\r\n  \'ClaveUnidad\': \'F52\',\r\n  \'NoIdentificacion\': \'00001\',\r\n  \'Cantidad\': \'1\',\r\n  \'Unidad\': \'TONELADA\',\r\n  \'Descripcion\': \'ACERO\',\r\n  \'ValorUnitario\': \'1000\',\r\n  \'Importe\': \'1000\'\r\n})\r\n\r\nconcepto.add(new Traslado({\r\n  \'Base\': \'1000\',\r\n  \'Impuesto\': \'002\',\r\n  \'TipoFactor\': \'Tasa\',\r\n  \'TasaOCuota\': \'0.16\',\r\n  \'Importe\': \'160\'\r\n}))\r\n\r\ncfdi.add(concepto)\r\n\r\ncfdi.add(new Traslado({\r\n  \'Impuesto\': \'002\',\r\n  \'TipoFactor\': \'Tasa\',\r\n  \'TasaOCuota\': \'0.16\',\r\n  \'Importe\': \'160\'\r\n}, {}, {\r\n  \'TotalImpuestosTrasladados\': \'160.00\'\r\n}))\r\n\r\ncfdi.getXml()\r\n.then(xml => console.log(xml))\r\n.catch(e => console.log(e.toString(), \'---> error\'));\r\n\r\n```\r\n\r\n## Ejemplo de uso Complemento de Pago\r\n\r\n```javascript\r\n\'use strict\'\r\n\r\nconst CFDI = require(\'@alexotano/cfdi33\').CFDI\r\nconst Emisor = require(\'@alexotano/cfdi33\').Emisor\r\nconst Receptor = require(\'@alexotano/cfdi33\').Receptor\r\nconst Concepto = require(\'@alexotano/cfdi33\').Concepto\r\nconst CuentaPredial = require(\'@alexotano/cfdi33\').CuentaPredial\r\nconst InformacionAduanera = require(\'@alexotano/cfdi33\').InformacionAduanera\r\nconst CfdiRelacionado = require(\'@alexotano/cfdi33\').CfdiRelacionado\r\nconst Traslado = require(\'@alexotano/cfdi33\').Traslado\r\nconst Retencion = require(\'@alexotano/cfdi33\').Retencion\r\n\r\nconst cfdi = new CFDI({\r\n  //\'Serie\': \'A\',\r\n  //\'Folio\': \'167ABC\',\r\n  \'Fecha\': \'2018-06-11T08:09:23\',\r\n  \'NoCertificado\': \'20001000000300022815\',\r\n  \'SubTotal\': \'1000\',\r\n  \'Moneda\': \'MXN\',\r\n  \'Total\': \'1160\',\r\n  \'TipoDeComprobante\': \'P\',\r\n  \'FormaPago\': \'01\',\r\n  \'MetodoPago\': \'PUE\',\r\n  //\'CondicionesDePago\': \'CONDICIONES\',\r\n  \'TipoCambio\': \'1\',\r\n  \'LugarExpedicion\': \'45079\',\r\n});\r\n\r\ncfdi.cer = \'./test/resources/LAN7008173R5.cer.pem\'\r\ncfdi.key = \'./test/resources/LAN7008173R5.key.pem\'\r\ncfdi.withOutCerts = false\r\n\r\ncfdi.add(new Emisor({\r\n  \'Rfc\': \'LAN7008173R5\',\r\n  \'Nombre\': \'CESAR RENE AGUILERA ARREOLA\',\r\n  \'RegimenFiscal\': \'601\'\r\n}))\r\n\r\ncfdi.add(new Receptor({\r\n  \'Rfc\': \'HEPR930322977\',\r\n  //\'Nombre\': \'RAFAEL ALEJANDRO HERNÁNDEZ PALACIOS\',\r\n  //\'ResidenciaFiscal\': \'MEX\',\r\n  //\'NumRegIdTrib\': \'0000000000000\',\r\n  \'UsoCFDI\': \'G01\'\r\n}))\r\n\r\nconst concepto = new Concepto({\r\n  \'ClaveProdServ\': \'84111506\',\r\n  \'ClaveUnidad\': \'ACT\',\r\n  \'Cantidad\': 1,\r\n  \'Descripcion\': \'Pago\',\r\n  \'ValorUnitario\': 0,\r\n  \'Importe\': 0\r\n})\r\n\t\t\r\ncfdi.add(concepto)\r\n\r\nlet complemento = new Complemento()\r\n\r\n\r\n//SE PUEDE HACER UN CICLO PARA AGREGAR TODOS LOS COMPROBANTES AQUI\r\n\r\nlet comprobante = {\r\n  IdDocumento: \'A39DA66B-52CA-49E3-879B-OTROCFDI##\',\r\n  MonedaDR: \'MXN\',\r\n  MetodoDePagoDR: \'PPD\',\r\n  NumParcialidad: \'1\',\r\n  ImpSaldoAnt: 200,\r\n  ImpPagado: 80,\r\n  ImpSaldoInsoluto: 120\r\n}\r\n\r\nlet pago = {\r\n  MonedaP: \'MXN\',\r\n  FormaDePagoP: \'01\',\r\n  FechaPago: \'01-07-2019T22:01:21\',\r\n  Monto: 80\r\n}\r\n\r\nlet version = { Version: "1.0" }\r\n\r\ncomplemento.add(new Pago(comprobante, pago, version))\r\n\r\n//------------------\r\n\r\n\r\ncfdi.add(complemento)\r\n\r\ncfdi.getXml()\r\n.then(xml => console.log(xml))\r\n.catch(e => console.log(e.toString(), \'---> error\'));\r\n\r\n```\r\n',
18 silly publish   readmeFilename: 'readme.md',
18 silly publish   gitHead: 'c7b02cc5bb08458f907e69e2342dc1f22f5d237f',
18 silly publish   _id: '@alexotano/cfdi33@2.2.5',
18 silly publish   _shasum: '774974d7f77dfdf468c05f5bf92918d27ee9d66c',
18 silly publish   _from: '.' }
19 verbose getPublishConfig undefined
20 silly mapToRegistry name @alexotano/cfdi33
21 silly mapToRegistry scope (from package name) @alexotano
22 verbose mapToRegistry no registry URL found in name for scope @alexotano
23 silly mapToRegistry using default registry
24 silly mapToRegistry registry http://registry.npmjs.org/
25 silly mapToRegistry uri http://registry.npmjs.org/@alexotano%2fcfdi33
26 verbose publish registryBase http://registry.npmjs.org/
27 silly publish uploading /home/alexotano/.npm/@alexotano/cfdi33/2.2.5/package.tgz
28 verbose request uri http://registry.npmjs.org/@alexotano%2fcfdi33
29 verbose request sending authorization for write operation
30 info attempt registry request try #1 at 11:20:52 PM
31 verbose request using bearer token for auth
32 verbose request id f090b092631088b5
33 http request PUT http://registry.npmjs.org/@alexotano%2fcfdi33
34 http 403 http://registry.npmjs.org/@alexotano%2fcfdi33
35 verbose headers { date: 'Mon, 30 Sep 2019 04:21:18 GMT',
35 verbose headers   'content-type': 'application/json',
35 verbose headers   'transfer-encoding': 'chunked',
35 verbose headers   connection: 'keep-alive',
35 verbose headers   'set-cookie':
35 verbose headers    [ '__cfduid=df976cb96624b85be1d7f28081cb41e261569817278; expires=Tue, 29-Sep-20 04:21:18 GMT; path=/; domain=.npmjs.org; HttpOnly' ],
35 verbose headers   'cf-ray': '51e368c599fc9a86-MFE',
35 verbose headers   'expect-ct': 'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
35 verbose headers   vary: 'Accept-Encoding',
35 verbose headers   server: 'cloudflare',
35 verbose headers   'content-encoding': 'gzip' }
36 verbose request invalidating /home/alexotano/.npm/registry.npmjs.org/_40alexotano_252fcfdi33 on PUT
37 error publish Failed PUT 403
38 verbose stack Error: You cannot publish over the previously published versions: 2.2.5. : @alexotano/cfdi33
38 verbose stack     at makeError (/usr/share/npm/node_modules/npm-registry-client/lib/request.js:264:12)
38 verbose stack     at CachingRegistryClient.<anonymous> (/usr/share/npm/node_modules/npm-registry-client/lib/request.js:252:14)
38 verbose stack     at /usr/share/npm/node_modules/npm-registry-client/lib/request.js:178:7
38 verbose stack     at Gunzip.onEnd (zlib.js:131:5)
38 verbose stack     at emitNone (events.js:111:20)
38 verbose stack     at Gunzip.emit (events.js:208:7)
38 verbose stack     at endReadableNT (_stream_readable.js:1064:12)
38 verbose stack     at _combinedTickCallback (internal/process/next_tick.js:138:11)
38 verbose stack     at process._tickCallback (internal/process/next_tick.js:180:9)
39 verbose statusCode 403
40 verbose pkgid @alexotano/cfdi33
41 verbose cwd /mnt/f/www/@alexotano/cfdiv33
42 error Linux 4.4.0-18362-Microsoft
43 error argv "/usr/bin/node" "/usr/bin/npm" "publish"
44 error node v8.10.0
45 error npm  v3.5.2
46 error code E403
47 error You cannot publish over the previously published versions: 2.2.5. : @alexotano/cfdi33
48 error If you need help, you may report this error at:
48 error     <https://github.com/npm/npm/issues>
49 verbose exit [ 1, true ]
